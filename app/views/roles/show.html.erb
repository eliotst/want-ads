<div class="row">
    <div class="col s12">
        <div class="card">
            <div class="card-image empty">
                <div class="card-title">
                    <%= @role.title %>
                </div>
                <a href="<%= edit_role_path(@role) %>" class="btn-floating halfway-fab waves-effect waves-light red">
                    <i class="material-icons">edit</i>
                </a>
            </div>
            <div class="card-action">
                <% if @role.person == nil %>
                    <% if @role.is_interested(current_person) %>
                        <%= button_to "I am No Longer Interested", interest_path(role_id: @role.id, person_id: @role.person.id), method: :delete, class: "btn" %>
                    <% else %>
                        <%= link_to "I am Interested", new_interest_path(role_id: @role.id), class: "btn" %>
                    <% end %>
                <% else %>
                    <%= link_to "Unassign", unassign_role_path(@role), method: :patch, class: "btn" %>
                <% end %>
            </div>
            <div class="card-content">
                <div class="row">
                    <div class="col s12">
                        <div class="role-project">
                            <%= link_to @role.project.title, @role.project %>
                        </div>
                        <div class="role-volunteer">
                            <strong>Assigned Volunteer:</strong>
                            <%= @role.try(:person).try(:full_name) || "No One" %>
                        </div>
                        <p>
                            <%= @role.description %>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col s12">
        <% if @role.person == nil && @role.project.has_permission(current_person) %>
            <%= render 'role_interest', interests: @role.interests.where(verified: true), role: @role %>
        <% end %>
    </div>
</div>
